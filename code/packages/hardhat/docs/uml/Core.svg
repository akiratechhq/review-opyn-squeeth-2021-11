<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: UmlClassDiagram Pages: 1 -->
<svg width="2720pt" height="1780pt"
 viewBox="0.00 0.00 2720.27 1780.20" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 1776.2)">
<title>UmlClassDiagram</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-1776.2 2716.2682,-1776.2 2716.2682,4 -4,4"/>
<!-- 0 -->
<g id="node1" class="node">
<title>0</title>
<polygon fill="#f2f2f2" stroke="#000000" points="0,-.5 0,-1771.7 1071.1394,-1771.7 1071.1394,-.5 0,-.5"/>
<text text-anchor="middle" x="535.5697" y="-1755.1" font-family="Times,serif" font-size="14.00" fill="#000000">Controller</text>
<polyline fill="none" stroke="#000000" points="0,-1746.9 1071.1394,-1746.9 "/>
<text text-anchor="start" x="8" y="-1730.3" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="8" y="-1713.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;SHUTDOWN_PERIOD: uint32</text>
<text text-anchor="start" x="8" y="-1696.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;MIN_COLLATERAL: uint256</text>
<text text-anchor="start" x="8" y="-1679.9" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="8" y="-1663.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;PAUSE_TIME_LIMIT: uint256</text>
<text text-anchor="start" x="8" y="-1646.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;FUNDING_PERIOD: uint256</text>
<text text-anchor="start" x="8" y="-1629.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;isShutDown: bool</text>
<text text-anchor="start" x="8" y="-1612.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;isSystemPaused: bool</text>
<text text-anchor="start" x="8" y="-1595.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;pausesLeft: uint256</text>
<text text-anchor="start" x="8" y="-1579.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;lastPauseTime: uint256</text>
<text text-anchor="start" x="8" y="-1562.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;weth: address</text>
<text text-anchor="start" x="8" y="-1545.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;dai: address</text>
<text text-anchor="start" x="8" y="-1528.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;ethDaiPool: address</text>
<text text-anchor="start" x="8" y="-1511.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;feeRecipient: address</text>
<text text-anchor="start" x="8" y="-1495.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;wPowerPerpPool: address</text>
<text text-anchor="start" x="8" y="-1478.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;uniswapPositionManager: address</text>
<text text-anchor="start" x="8" y="-1461.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;feeRate: uint256</text>
<text text-anchor="start" x="8" y="-1444.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;indexForSettlement: uint256</text>
<text text-anchor="start" x="8" y="-1427.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;normalizationFactor: uint256</text>
<text text-anchor="start" x="8" y="-1411.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;lastFundingUpdateTimestamp: uint256</text>
<text text-anchor="start" x="8" y="-1394.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;deployTimestamp: uint256</text>
<text text-anchor="start" x="8" y="-1377.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;isWethToken0: bool</text>
<text text-anchor="start" x="8" y="-1360.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;vaults: mapping(uint256=&gt;VaultLib.Vault)</text>
<text text-anchor="start" x="8" y="-1343.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;shortPowerPerp: IShortPowerPerp</text>
<text text-anchor="start" x="8" y="-1327.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;wPowerPerp: IWPowerPerp</text>
<text text-anchor="start" x="8" y="-1310.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;oracle: IOracle</text>
<polyline fill="none" stroke="#000000" points="0,-1302.1 1071.1394,-1302.1 "/>
<text text-anchor="start" x="8" y="-1285.5" font-family="Times,serif" font-size="14.00" fill="#000000">Private:</text>
<text text-anchor="start" x="8" y="-1268.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_writeVault(_vaultId: uint256, _vault: VaultLib.Vault)</text>
<text text-anchor="start" x="8" y="-1251.9" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="8" y="-1235.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_reduceDebt(_vault: VaultLib.Vault, _owner: address, _normalizationFactor: uint256, _payBounty: bool): uint256</text>
<text text-anchor="start" x="8" y="-1218.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_checkVaultId(_vaultId: uint256)</text>
<text text-anchor="start" x="8" y="-1201.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_openDepositMint(_account: address, _vaultId: uint256, _mintAmount: uint256, _depositAmount: uint256, _uniTokenId: uint256, _isWAmount: bool): (uint256, uint256)</text>
<text text-anchor="start" x="8" y="-1184.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_burnAndWithdraw(_account: address, _vaultId: uint256, _burnAmount: uint256, _withdrawAmount: uint256, _isWAmount: bool): uint256</text>
<text text-anchor="start" x="8" y="-1167.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_openVault(_recipient: address): (uint256, VaultLib.Vault)</text>
<text text-anchor="start" x="8" y="-1151.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_depositUniPositionToken(_vault: VaultLib.Vault, _account: address, _vaultId: uint256, _uniTokenId: uint256)</text>
<text text-anchor="start" x="8" y="-1134.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_addEthCollateral(_vault: VaultLib.Vault, _vaultId: uint256, _amount: uint256)</text>
<text text-anchor="start" x="8" y="-1117.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_withdrawUniPositionToken(_vault: VaultLib.Vault, _account: address, _vaultId: uint256)</text>
<text text-anchor="start" x="8" y="-1100.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_withdrawCollateral(_vault: VaultLib.Vault, _account: address, _vaultId: uint256, _amount: uint256)</text>
<text text-anchor="start" x="8" y="-1083.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_mintWPowerPerp(_vault: VaultLib.Vault, _account: address, _vaultId: uint256, _wPowerPerpAmount: uint256)</text>
<text text-anchor="start" x="8" y="-1067.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_burnWPowerPerp(_vault: VaultLib.Vault, _account: address, _vaultId: uint256, _wPowerPerpAmount: uint256)</text>
<text text-anchor="start" x="8" y="-1050.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_liquidate(_vault: VaultLib.Vault, _maxWPowerPerpAmount: uint256, _normalizationFactor: uint256, _liquidator: address): (uint256, uint256)</text>
<text text-anchor="start" x="8" y="-1033.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_canModifyVault(_vaultId: uint256, _account: address): bool</text>
<text text-anchor="start" x="8" y="-1016.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_payFee(_vault: VaultLib.Vault, _wSqueethAmount: uint256, _depositAmount: uint256): (uint256, uint256)</text>
<text text-anchor="start" x="8" y="-999.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_redeemUniToken(_uniTokenId: uint256): (uint256, uint256)</text>
<text text-anchor="start" x="8" y="-983.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_applyFunding(): uint256</text>
<text text-anchor="start" x="8" y="-966.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_getNewNormalizationFactor(): uint256</text>
<text text-anchor="start" x="8" y="-949.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_checkUniNFT(_uniTokenId: uint256)</text>
<text text-anchor="start" x="8" y="-932.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_checkVault(_vault: VaultLib.Vault, _normalizationFactor: uint256)</text>
<text text-anchor="start" x="8" y="-915.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_isVaultSafe(_vault: VaultLib.Vault, _normalizationFactor: uint256): bool</text>
<text text-anchor="start" x="8" y="-899.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_getVaultStatus(_vault: VaultLib.Vault, _normalizationFactor: uint256): (bool, bool)</text>
<text text-anchor="start" x="8" y="-882.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_getLiquidationAmount(_maxInputWAmount: uint256, _maxLiquidatableWAmount: uint256, _normalizationFactor: uint256): (uint256, uint256)</text>
<text text-anchor="start" x="8" y="-865.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_getFairPeriodForOracle(_period: uint32): uint32</text>
<text text-anchor="start" x="8" y="-848.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_getMaxSafePeriod(): uint32</text>
<text text-anchor="start" x="8" y="-831.9" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="8" y="-815.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;payable&gt;&gt; null()</text>
<text text-anchor="start" x="8" y="-798.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;payable&gt;&gt; mintPowerPerpAmount(_vaultId: uint256, _powerPerpAmount: uint128, _uniTokenId: uint256): (uint256, uint256)</text>
<text text-anchor="start" x="8" y="-781.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;payable&gt;&gt; mintWPowerPerpAmount(_vaultId: uint256, _wPowerPerpAmount: uint128, _uniTokenId: uint256): uint256</text>
<text text-anchor="start" x="8" y="-764.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;payable&gt;&gt; deposit(_vaultId: uint256)</text>
<text text-anchor="start" x="8" y="-747.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;payable&gt;&gt; withdraw(_vaultId: uint256, _amount: uint256)</text>
<text text-anchor="start" x="8" y="-731.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;payable&gt;&gt; donate()</text>
<text text-anchor="start" x="8" y="-714.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getExpectedNormalizationFactor(): uint256</text>
<text text-anchor="start" x="8" y="-697.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getUnscaledIndex(_period: uint32): uint256</text>
<text text-anchor="start" x="8" y="-680.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getDenormalizedMark(_period: uint32): uint256</text>
<text text-anchor="start" x="8" y="-663.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;depositUniPositionToken(_vaultId: uint256, _uniTokenId: uint256)</text>
<text text-anchor="start" x="8" y="-647.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getDenormalizedMarkForFunding(_period: uint32): uint256</text>
<text text-anchor="start" x="8" y="-630.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;withdrawUniPositionToken(_vaultId: uint256)</text>
<text text-anchor="start" x="8" y="-613.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;burnWPowerPerpAmount(_vaultId: uint256, _wPowerPerpAmount: uint256, _withdrawAmount: uint256)</text>
<text text-anchor="start" x="8" y="-596.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;burnPowerPerpAmount(_vaultId: uint256, _powerPerpAmount: uint256, _withdrawAmount: uint256): uint256</text>
<text text-anchor="start" x="8" y="-579.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;reduceDebtShutdown(_vaultId: uint256)</text>
<text text-anchor="start" x="8" y="-563.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getIndex(_period: uint32): uint256</text>
<text text-anchor="start" x="8" y="-546.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;liquidate(_vaultId: uint256, _maxDebtAmount: uint256): uint256</text>
<text text-anchor="start" x="8" y="-529.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;updateOperator(_vaultId: uint256, _operator: address)</text>
<text text-anchor="start" x="8" y="-512.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setFeeRecipient(_newFeeRecipient: address)</text>
<text text-anchor="start" x="8" y="-495.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setFeeRate(_newFeeRate: uint256)</text>
<text text-anchor="start" x="8" y="-479.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;pauseAndShutDown()</text>
<text text-anchor="start" x="8" y="-462.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;shutDown()</text>
<text text-anchor="start" x="8" y="-445.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;pause()</text>
<text text-anchor="start" x="8" y="-428.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;unPauseAnyone()</text>
<text text-anchor="start" x="8" y="-411.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;unPauseOwner()</text>
<text text-anchor="start" x="8" y="-395.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;redeemLong(_wPerpAmount: uint256)</text>
<text text-anchor="start" x="8" y="-378.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;redeemShort(_vaultId: uint256)</text>
<text text-anchor="start" x="8" y="-361.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;applyFunding()</text>
<text text-anchor="start" x="8" y="-344.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;isVaultSafe(_vaultId: uint256): bool</text>
<text text-anchor="start" x="8" y="-327.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;reduceDebt(_vaultId: uint256)</text>
<text text-anchor="start" x="8" y="-311.1" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="8" y="-294.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; FeeRateUpdated(oldFee: uint256, newFee: uint256)</text>
<text text-anchor="start" x="8" y="-277.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; OpenVault(vaultId: uint256)</text>
<text text-anchor="start" x="8" y="-260.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; DepositCollateral(vaultId: uint256, amount: uint256, collateralId: uint128)</text>
<text text-anchor="start" x="8" y="-243.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; DepositUniPositionToken(vaultId: uint256, tokenId: uint256)</text>
<text text-anchor="start" x="8" y="-227.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; WithdrawCollateral(vaultId: uint256, amount: uint256, collateralId: uint128)</text>
<text text-anchor="start" x="8" y="-210.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; WithdrawUniPositionToken(vaultId: uint256, tokenId: uint256)</text>
<text text-anchor="start" x="8" y="-193.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; MintShort(amount: uint256, vaultId: uint256)</text>
<text text-anchor="start" x="8" y="-176.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; BurnShort(amount: uint256, vaultId: uint256)</text>
<text text-anchor="start" x="8" y="-159.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; UpdateOperator(vaultId: uint256, operator: address)</text>
<text text-anchor="start" x="8" y="-143.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; CloseVault(vaultId: uint256)</text>
<text text-anchor="start" x="8" y="-126.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; FeeRecipientUpdated(oldFeeRecipient: address, newFeeRecipient: address)</text>
<text text-anchor="start" x="8" y="-109.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; Liquidate(vaultId: uint256, debtAmount: uint256, collateralPaid: uint256)</text>
<text text-anchor="start" x="8" y="-92.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; NormalizationFactorUpdated(oldNormFactor: uint256, newNormFactor: uint256, timestamp: uint256)</text>
<text text-anchor="start" x="8" y="-75.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; notPaused()</text>
<text text-anchor="start" x="8" y="-59.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; isPaused()</text>
<text text-anchor="start" x="8" y="-42.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; notShutdown()</text>
<text text-anchor="start" x="8" y="-25.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; isShutdown()</text>
<text text-anchor="start" x="8" y="-8.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;init(_oracle: address, _shortPowerPerp: address, _wPowerPerp: address, _weth: address, _dai: address, _ethDaiPool: address, _wPowerPerpPool: address, _uniPositionManager: address)</text>
</g>
<!-- 1 -->
<g id="node2" class="node">
<title>1</title>
<polygon fill="#f2f2f2" stroke="#000000" points="1088.6575,-748.1 1088.6575,-1024.1 2096.4819,-1024.1 2096.4819,-748.1 1088.6575,-748.1"/>
<text text-anchor="middle" x="1592.5697" y="-1007.5" font-family="Times,serif" font-size="14.00" fill="#000000">Oracle</text>
<polyline fill="none" stroke="#000000" points="1088.6575,-999.3 2096.4819,-999.3 "/>
<text text-anchor="middle" x="1592.5697" y="-982.7" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
<polyline fill="none" stroke="#000000" points="1088.6575,-974.5 2096.4819,-974.5 "/>
<text text-anchor="start" x="1096.6575" y="-957.9" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="1096.6575" y="-941.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_fetchTwapSafe(_pool: address, _base: address, _quote: address, _period: uint32): uint256</text>
<text text-anchor="start" x="1096.6575" y="-924.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_fetchTwap(_pool: address, _base: address, _quote: address, _period: uint32): uint256</text>
<text text-anchor="start" x="1096.6575" y="-907.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_fetchRawTwap(_pool: address, _base: address, _quote: address, _period: uint32, _amountIn: uint256): uint256</text>
<text text-anchor="start" x="1096.6575" y="-890.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_fetchHistoricTwap(_pool: address, _base: address, _quote: address, _secondsAgoToStartOfTwap: uint32, _secondsAgoToEndOfTwap: uint32, _amountIn: uint256): uint256</text>
<text text-anchor="start" x="1096.6575" y="-873.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_getMaxPeriod(_pool: address): uint32</text>
<text text-anchor="start" x="1096.6575" y="-857.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;toUint128(y: uint256): (z: uint128)</text>
<text text-anchor="start" x="1096.6575" y="-840.3" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="1096.6575" y="-823.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getTwap(_pool: address, _base: address, _quote: address, _period: uint32): uint256</text>
<text text-anchor="start" x="1096.6575" y="-806.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getHistoricalTwap(_pool: address, _base: address, _quote: address, _secondsAgoToStartOfTwap: uint32, _secondsAgoToEndOfTwap: uint32): uint256</text>
<text text-anchor="start" x="1096.6575" y="-789.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getTwapSafe(_pool: address, _base: address, _quote: address, _period: uint32): uint256</text>
<text text-anchor="start" x="1096.6575" y="-773.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getMaxPeriod(_pool: address): uint32</text>
<text text-anchor="start" x="1096.6575" y="-756.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getTimeWeightedAverageTickSafe(_pool: address, _period: uint32): (timeWeightedAverageTick: int24)</text>
</g>
<!-- 2 -->
<g id="node3" class="node">
<title>2</title>
<polygon fill="#f2f2f2" stroke="#000000" points="2114.3547,-790.1 2114.3547,-982.1 2420.7847,-982.1 2420.7847,-790.1 2114.3547,-790.1"/>
<text text-anchor="middle" x="2267.5697" y="-965.5" font-family="Times,serif" font-size="14.00" fill="#000000">ShortPowerPerp</text>
<polyline fill="none" stroke="#000000" points="2114.3547,-957.3 2420.7847,-957.3 "/>
<text text-anchor="start" x="2122.3547" y="-940.7" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="2122.3547" y="-923.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;nextId: uint256</text>
<text text-anchor="start" x="2122.3547" y="-907.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;controller: address</text>
<polyline fill="none" stroke="#000000" points="2114.3547,-898.9 2420.7847,-898.9 "/>
<text text-anchor="start" x="2122.3547" y="-882.3" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="2122.3547" y="-865.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;mintNFT(_recipient: address): (tokenId: uint256)</text>
<text text-anchor="start" x="2122.3547" y="-848.7" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="2122.3547" y="-831.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; onlyController()</text>
<text text-anchor="start" x="2122.3547" y="-815.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;constructor(_name: string, _symbol: string)</text>
<text text-anchor="start" x="2122.3547" y="-798.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;init(_controller: address)</text>
</g>
<!-- 3 -->
<g id="node4" class="node">
<title>3</title>
<polygon fill="#f2f2f2" stroke="#000000" points="2438.8712,-790.1 2438.8712,-982.1 2712.2682,-982.1 2712.2682,-790.1 2438.8712,-790.1"/>
<text text-anchor="middle" x="2575.5697" y="-965.5" font-family="Times,serif" font-size="14.00" fill="#000000">WPowerPerp</text>
<polyline fill="none" stroke="#000000" points="2438.8712,-957.3 2712.2682,-957.3 "/>
<text text-anchor="start" x="2446.8712" y="-940.7" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="2446.8712" y="-923.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;controller: address</text>
<polyline fill="none" stroke="#000000" points="2438.8712,-915.7 2712.2682,-915.7 "/>
<text text-anchor="start" x="2446.8712" y="-899.1" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="2446.8712" y="-882.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;init(_controller: address)</text>
<text text-anchor="start" x="2446.8712" y="-865.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;mint(_account: address, _amount: uint256)</text>
<text text-anchor="start" x="2446.8712" y="-848.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;burn(_account: address, _amount: uint256)</text>
<text text-anchor="start" x="2446.8712" y="-831.9" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="2446.8712" y="-815.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; onlyController()</text>
<text text-anchor="start" x="2446.8712" y="-798.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;constructor(_name: string, _symbol: string)</text>
</g>
</g>
</svg>
